
pipeline {
    agent {
                docker { image 'devopsgurus:v1' }
            }
    stages {
        stage('Set up tools and environment') {
            
            steps {
                sh "java -version"
                sh "docker build -t devopsgurus:v1X -f ./Docker/DockerFileX ."
                sh "export GRADLE_HOME=/opt/gradle/gradle-3.5"
                sh " echo $PATH"
                //ENV PATH=${GRADLE_HOME}/bin:${PATH}
                sh  "git clone https://TheDevopsGurus:devops2020@github.com/TheDevopsGurus/HelloWorld.git"
                sh "cd HelloWorld"
                sh "gradle build"
            }
        }
        
    }
}

